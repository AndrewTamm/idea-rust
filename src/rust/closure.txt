Rust File
  RustUseImpl(USE)
    PsiElement(use)('use')
    PsiElement(IDENTIFIER)('std')
    PsiElement(::)('::')
    PsiElement(IDENTIFIER)('task')
    PsiElement(::)('::')
    PsiElement(IDENTIFIER)('spawn')
    PsiElement(;)(';')
  PsiComment(LINE_COMMENT)('// Takes a closure and prints its result')
  RustFnItemImpl(FN_ITEM)
    RustFunctionDeclarationImpl(FUNCTION_DECLARATION)
      PsiElement(fn)('fn')
      PsiElement(IDENTIFIER)('closure')
      PsiElement(()('(')
      RustStandardArgImpl(STANDARD_ARG)
        PsiElement(IDENTIFIER)('f')
        PsiElement(:)(':')
        RustTypeClosureImpl(TYPE_CLOSURE)
          PsiElement(|)('|')
          RustClosureArgsImpl(CLOSURE_ARGS)
            <empty list>
          PsiElement(|)('|')
          PsiElement(->)('->')
          RustTypeBasicImpl(TYPE_BASIC)
            PsiElement(IDENTIFIER)('int')
      PsiElement())(')')
    RustStatementBlockImpl(STATEMENT_BLOCK)
      RustStatementBlockInternalImpl(STATEMENT_BLOCK_INTERNAL)
        PsiElement({)('{')
        RustExprMacroCallImpl(EXPR_MACRO_CALL)
          RustExprPathImpl(EXPR_PATH)
            PsiElement(IDENTIFIER)('println')
          PsiElement(!)('!')
          RustCallBodyImpl(CALL_BODY)
            PsiElement(()('(')
            RustCallParamsImpl(CALL_PARAMS)
              RustExprValueImpl(EXPR_VALUE)
                PsiElement(STRING_LIT)('"{}"')
              PsiElement(,)(',')
              RustExprCallImpl(EXPR_CALL)
                RustExprPathImpl(EXPR_PATH)
                  PsiElement(IDENTIFIER)('f')
                RustCallBodyImpl(CALL_BODY)
                  PsiElement(()('(')
                  RustCallParamsImpl(CALL_PARAMS)
                    <empty list>
                  PsiElement())(')')
            PsiElement())(')')
      PsiElement(})('}')
  PsiComment(LINE_COMMENT)('// Takes a closure and calls it')
  RustFnItemImpl(FN_ITEM)
    RustFunctionDeclarationImpl(FUNCTION_DECLARATION)
      PsiElement(fn)('fn')
      PsiElement(IDENTIFIER)('typed_closure')
      PsiElement(()('(')
      RustStandardArgImpl(STANDARD_ARG)
        PsiElement(IDENTIFIER)('f')
        PsiElement(:)(':')
        RustTypeClosureImpl(TYPE_CLOSURE)
          PsiElement(|)('|')
          RustClosureArgsImpl(CLOSURE_ARGS)
            RustClosureArgImpl(CLOSURE_ARG)
              RustTypeBasicImpl(TYPE_BASIC)
                PsiElement(IDENTIFIER)('int')
          PsiElement(|)('|')
      PsiElement())(')')
    RustStatementBlockImpl(STATEMENT_BLOCK)
      RustStatementBlockInternalImpl(STATEMENT_BLOCK_INTERNAL)
        PsiElement({)('{')
        RustExprCallImpl(EXPR_CALL)
          RustExprPathImpl(EXPR_PATH)
            PsiElement(IDENTIFIER)('f')
          RustCallBodyImpl(CALL_BODY)
            PsiElement(()('(')
            RustCallParamsImpl(CALL_PARAMS)
              RustExprValueImpl(EXPR_VALUE)
                PsiElement(DEC_LIT)('42')
            PsiElement())(')')
        PsiElement(;)(';')
      PsiElement(})('}')
  PsiComment(LINE_COMMENT)('// Takes a closure that takes a closure and calls it with its own closure')
  RustFnItemImpl(FN_ITEM)
    RustFunctionDeclarationImpl(FUNCTION_DECLARATION)
      PsiElement(fn)('fn')
      PsiElement(IDENTIFIER)('double_closure')
      PsiElement(()('(')
      RustStandardArgImpl(STANDARD_ARG)
        PsiElement(IDENTIFIER)('f')
        PsiElement(:)(':')
        RustTypeClosureImpl(TYPE_CLOSURE)
          PsiElement(|)('|')
          RustClosureArgsImpl(CLOSURE_ARGS)
            RustClosureArgImpl(CLOSURE_ARG)
              PsiElement(IDENTIFIER)('g')
              PsiElement(:)(':')
              RustTypeClosureImpl(TYPE_CLOSURE)
                PsiElement(|)('|')
                RustClosureArgsImpl(CLOSURE_ARGS)
                  RustClosureArgImpl(CLOSURE_ARG)
                    RustTypeBasicImpl(TYPE_BASIC)
                      PsiElement(IDENTIFIER)('int')
                PsiElement(|)('|')
          PsiElement(|)('|')
      PsiElement())(')')
    RustStatementBlockImpl(STATEMENT_BLOCK)
      RustStatementBlockInternalImpl(STATEMENT_BLOCK_INTERNAL)
        PsiElement({)('{')
        RustExprCallImpl(EXPR_CALL)
          RustExprPathImpl(EXPR_PATH)
            PsiElement(IDENTIFIER)('f')
          RustCallBodyImpl(CALL_BODY)
            PsiElement(()('(')
            RustCallParamsImpl(CALL_PARAMS)
              RustExprClosureImpl(EXPR_CLOSURE)
                PsiElement(|)('|')
                RustClosureArgsImpl(CLOSURE_ARGS)
                  RustClosureArgImpl(CLOSURE_ARG)
                    RustTypeBasicImpl(TYPE_BASIC)
                      PsiElement(IDENTIFIER)('x')
                PsiElement(|)('|')
                RustClosureBodyImpl(CLOSURE_BODY)
                  RustExprMacroCallImpl(EXPR_MACRO_CALL)
                    RustExprPathImpl(EXPR_PATH)
                      PsiElement(IDENTIFIER)('println')
                    PsiElement(!)('!')
                    RustCallBodyImpl(CALL_BODY)
                      PsiElement(()('(')
                      RustCallParamsImpl(CALL_PARAMS)
                        RustExprValueImpl(EXPR_VALUE)
                          PsiElement(STRING_LIT)('"{}"')
                        PsiElement(,)(',')
                        RustExprPlusImpl(EXPR_PLUS)
                          RustExprPathImpl(EXPR_PATH)
                            PsiElement(IDENTIFIER)('x')
                          PsiElement(+)('+')
                          RustExprValueImpl(EXPR_VALUE)
                            PsiElement(DEC_LIT)('1')
                      PsiElement())(')')
            PsiElement())(')')
      PsiElement(})('}')
  RustFnItemImpl(FN_ITEM)
    RustFunctionDeclarationImpl(FUNCTION_DECLARATION)
      PsiElement(pub)('pub')
      PsiElement(fn)('fn')
      PsiElement(IDENTIFIER)('main')
      PsiElement(()('(')
      PsiElement())(')')
    RustStatementBlockImpl(STATEMENT_BLOCK)
      RustStatementBlockInternalImpl(STATEMENT_BLOCK_INTERNAL)
        PsiElement({)('{')
        RustExprCallImpl(EXPR_CALL)
          RustExprPathImpl(EXPR_PATH)
            PsiElement(IDENTIFIER)('closure')
          RustCallBodyImpl(CALL_BODY)
            PsiElement(()('(')
            RustCallParamsImpl(CALL_PARAMS)
              RustExprClosureImpl(EXPR_CLOSURE)
                PsiElement(|)('|')
                RustClosureArgsImpl(CLOSURE_ARGS)
                  <empty list>
                PsiElement(|)('|')
                RustClosureBodyImpl(CLOSURE_BODY)
                  RustExprValueImpl(EXPR_VALUE)
                    PsiElement(DEC_LIT)('1')
            PsiElement())(')')
        PsiElement(;)(';')
        RustExprCallImpl(EXPR_CALL)
          RustExprPathImpl(EXPR_PATH)
            PsiElement(IDENTIFIER)('typed_closure')
          RustCallBodyImpl(CALL_BODY)
            PsiElement(()('(')
            RustCallParamsImpl(CALL_PARAMS)
              RustExprClosureImpl(EXPR_CLOSURE)
                PsiElement(|)('|')
                RustClosureArgsImpl(CLOSURE_ARGS)
                  RustClosureArgImpl(CLOSURE_ARG)
                    RustTypeBasicImpl(TYPE_BASIC)
                      PsiElement(IDENTIFIER)('a')
                PsiElement(|)('|')
                RustClosureBodyImpl(CLOSURE_BODY)
                  RustExprMacroCallImpl(EXPR_MACRO_CALL)
                    RustExprPathImpl(EXPR_PATH)
                      PsiElement(IDENTIFIER)('println')
                    PsiElement(!)('!')
                    RustCallBodyImpl(CALL_BODY)
                      PsiElement(()('(')
                      RustCallParamsImpl(CALL_PARAMS)
                        RustExprValueImpl(EXPR_VALUE)
                          PsiElement(STRING_LIT)('"typed {}"')
                        PsiElement(,)(',')
                        RustExprPathImpl(EXPR_PATH)
                          PsiElement(IDENTIFIER)('a')
                      PsiElement())(')')
            PsiElement())(')')
        PsiElement(;)(';')
        RustExprCallImpl(EXPR_CALL)
          RustExprPathImpl(EXPR_PATH)
            PsiElement(IDENTIFIER)('double_closure')
          RustCallBodyImpl(CALL_BODY)
            PsiElement(()('(')
            RustCallParamsImpl(CALL_PARAMS)
              RustExprClosureImpl(EXPR_CLOSURE)
                PsiElement(|)('|')
                RustClosureArgsImpl(CLOSURE_ARGS)
                  RustClosureArgImpl(CLOSURE_ARG)
                    PsiElement(IDENTIFIER)('g')
                    PsiElement(:)(':')
                    RustTypeClosureImpl(TYPE_CLOSURE)
                      PsiElement(|)('|')
                      RustClosureArgsImpl(CLOSURE_ARGS)
                        RustClosureArgImpl(CLOSURE_ARG)
                          RustTypeBasicImpl(TYPE_BASIC)
                            PsiElement(IDENTIFIER)('int')
                      PsiElement(|)('|')
                PsiElement(|)('|')
                RustClosureBodyImpl(CLOSURE_BODY)
                  RustExprCallImpl(EXPR_CALL)
                    RustExprPathImpl(EXPR_PATH)
                      PsiElement(IDENTIFIER)('g')
                    RustCallBodyImpl(CALL_BODY)
                      PsiElement(()('(')
                      RustCallParamsImpl(CALL_PARAMS)
                        RustExprValueImpl(EXPR_VALUE)
                          PsiElement(DEC_LIT)('1')
                      PsiElement())(')')
            PsiElement())(')')
        PsiElement(;)(';')
        PsiComment(LINE_COMMENT)('// proc is the closure which will be spawned.')
        RustExprCallImpl(EXPR_CALL)
          RustExprPathImpl(EXPR_PATH)
            PsiElement(IDENTIFIER)('spawn')
          RustCallBodyImpl(CALL_BODY)
            PsiElement(()('(')
            RustCallParamsImpl(CALL_PARAMS)
              RustExprProcImpl(EXPR_PROC)
                PsiElement(proc)('proc')
                PsiElement(()('(')
                RustClosureArgsImpl(CLOSURE_ARGS)
                  <empty list>
                PsiElement())(')')
                RustClosureBodyImpl(CLOSURE_BODY)
                  RustStatementBlockImpl(STATEMENT_BLOCK)
                    RustStatementBlockInternalImpl(STATEMENT_BLOCK_INTERNAL)
                      PsiElement({)('{')
                      RustExprMacroCallImpl(EXPR_MACRO_CALL)
                        RustExprPathImpl(EXPR_PATH)
                          PsiElement(IDENTIFIER)('println')
                        PsiElement(!)('!')
                        RustCallBodyImpl(CALL_BODY)
                          PsiElement(()('(')
                          RustCallParamsImpl(CALL_PARAMS)
                            RustExprValueImpl(EXPR_VALUE)
                              PsiElement(STRING_LIT)('"I'm a new task"')
                          PsiElement())(')')
                    PsiElement(})('}')
            PsiElement())(')')
        PsiElement(;)(';')
      PsiElement(})('}')